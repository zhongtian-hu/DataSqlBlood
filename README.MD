# DataSqlBlood

##### 如果你喜欢这个项目，那就点击一下右上方的【Star】以及【Fork】，支持一下我，让我有动力持续更新！

#### 项目介绍
在数据仓库建设中，经常会使用到数据血缘追溯方面的功能，本项目实现了对SQL语句进行静态分析，获取SQL对应的血缘图（表血缘 + 字段血缘）

#### 项目升级内容
1. 引入JDBC获取元数据信息,主要取hive元数据的MYSQL数据库，使血缘图更加丰富。
2. 增加通过SSH代理链接MYSQL功能,使程序的部署更加灵活。
3. 针对presto进行优化,解决mysql中无法取到presto视图问题。
4. 分析结果以标准的JSON结构返回,重点关注层级结构和关联关系。

#### 下个版本升级内容
引入图数据库保存结果数据信息,图形化显示数据血缘关系，使血缘图更加直观。

#### 测试用例
请关注test下的HiveBloodEngineTest与HiveSqlBloodFactoryTest。

#### 接口地址
    接口类：BloodEngine，实现类：HiveBloodEngineImpl。（spring接入）
    工具类：SqlParserTool。（静态调用）
    
#### 使用说明

运行：
![输入图片说明](./img/172109_101b76d9_146322.png "屏幕截图.png")

结果：

表血缘：
![输入图片说明](./img/172002_32a128d6_146322.png "屏幕截图.png")

字段血缘：
![输入图片说明](./img/171929_39c2de70_146322.png "屏幕截图.png")


